"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),ResponsiveBG=function(){function e(n){return _classCallCheck(this,e),"function"!=typeof window.matchMedia?void console.warn("ResponsiveBG - window.matchMedia support required."):(this.options=$.extend({$el:$(".bg-switch")},n),this.$el=this.options.$el,this._saveInitialBackground(),void this._events())}return _createClass(e,[{key:"_events",value:function(){var e=this;for(var n in this.options.breakpoints)this.options.breakpoints[n].label=n,this.options.breakpoints[n].matches&&this.updateBackgrounds(n),this.options.breakpoints[n].addListener(function(n){if(n.matches){var a=n.label?n.label:n.currentTarget.label;e.updateBackgrounds(a)}})}},{key:"_saveInitialBackground",value:function(){this.$el.each(function(e,n){var a=window.getComputedStyle(n,null)["background-image"];a&&$(n).data("original-bg",a)})}},{key:"updateBackgrounds",value:function(e){-1!==Object.keys(this.options.breakpoints).indexOf(e)?this.$el.each(function(n,a){var t=$(a).data("bg-"+e);if(t){var i="url('"+t+"')";$(a).data("original-bg")&&(i="url('"+t+"'),"+$(a).data("original-bg")),$(a).css({"background-image":i})}else console.warn("ResponsiveBG - Cannot find image for "+e+" size.")}):console.warn("ResponsiveBG - Invalid breakpoint name: "+e)}}]),e}();