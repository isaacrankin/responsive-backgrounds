"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),ResponsiveBackgrounds=function(){function e(n){return _classCallCheck(this,e),"function"!=typeof window.matchMedia?void console.warn("ResponsiveBackgrounds - window.matchMedia support is required."):(this.breakpoints=n.breakpoints,this.elements=this._saveInitialBackground(n.elements),void this._events())}return _createClass(e,[{key:"_events",value:function(){var e=this;for(var n in this.breakpoints)"MediaQueryList"===this.breakpoints[n].constructor.name?(this.breakpoints[n].label=n,this.breakpoints[n].matches&&this._updateBackgrounds(this.elements,n),this.breakpoints[n].addListener(function(n){if(n.matches){var a=n.label?n.label:n.currentTarget.label;e._updateBackgrounds(e.elements,a)}})):(console.warn("ResponsiveBackgrounds - Invalid breakpoint "+n+"."),delete this.breakpoints[n])}},{key:"_saveInitialBackground",value:function(e){for(var n=[],a=0,t=e.length;t>a;a++){var s=window.getComputedStyle(e[a],null)["background-image"];s&&(e[a].dataset.originalImage=s),n.push(e[a])}return n}},{key:"_updateBackgrounds",value:function(e,n){var a=this.breakpoints[n],t=n.charAt(0).toUpperCase()+n.slice(1);a&&"MediaQueryList"===a.constructor.name?e.map(function(e){var a=e.dataset.originalImage,s=e.dataset["bg"+t];s?e.style["background-image"]=a?a+", url('"+s+"')":"url('"+s+"')":console.warn("ResponsiveBackgrounds - Cannot find image for "+n+" size.")}):console.warn("ResponsiveBackgrounds - Invalid breakpoint name: "+n)}}]),e}();
//# sourceMappingURL=ResponsiveBackgrounds.js.map
